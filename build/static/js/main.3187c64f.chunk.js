(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t){},221:function(e,t,a){e.exports=a(628)},226:function(e,t,a){},227:function(e,t,a){},628:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(64),i=a(197),l=a(198),c=a(196),s=a(0),o=a.n(s),m=a(19),u=a.n(m),d=(a(226),a(227),a(121)),p=a(20),f=a(18),b=a(6),E=a(182),v=a(44),h=a(709),y=a(704),g=a(681),k=a(683),O=a(702),j=a(56),x=a(684),N=a(120),I=a.n(N),w=a(192),S=a.n(w),$=a(193),C=a.n($),q=a(705),z=a(706),A=a(707),D=a(59),L=a(63),R=a(26),B=a.n(R),T=a(55),F=a(23),V=a(685);Object(E.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},addNew:{textDecoration:"none",color:"white"}}}));var G=a(7),_=a(689),M=a(691),W=a(686),K=a(688),P=a(690),H=a(687),J=a(126),Q=a(184),Z=a.n(Q),U=a(183),X=a.n(U),Y=Object(G.a)((function(e){return{head:{backgroundColor:"#b1b6ba",color:e.palette.common.white},body:{fontSize:14,cursor:"pointer"}}}))(W.a),ee=Object(G.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(H.a),te=Object(E.a)((function(e){return{table:{minWidth:700},margin:{margin:e.spacing(-1.8)}}}));function ae(e){var t=te(),a=e.isAction,n=e.heading,r=e.bodyData,i=e.edit,l=e.del,c=e.deleteMutate,s=e.routerLink;return o.a.createElement(K.a,{component:J.a},o.a.createElement(_.a,{className:t.table,"aria-label":"customized table"},o.a.createElement(P.a,null,o.a.createElement(H.a,null,n.map((function(e,t){return o.a.createElement(Y,{key:t},e.label)})),a?o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,{key:n.length},"Actions")):null)),o.a.createElement(M.a,null,r.map((function(n,r){return o.a.createElement(ee,{key:r},e.heading.map((function(e,t){return o.a.createElement(Y,{component:"th",scope:"row",key:t,onClick:function(){return e=n.id,void(s&&s(e));var e}},n[e.key])})),a?o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,{component:"th",scope:"row"},o.a.createElement("span",null,o.a.createElement(x.a,{"aria-label":"delete",className:t.margin,onClick:function(){return i(n.id,r)}},o.a.createElement(X.a,{fontSize:"small"}))),o.a.createElement("span",{style:{marginLeft:"25px"}},o.a.createElement(x.a,{"aria-label":"delete",className:t.margin,onClick:function(){return l(n.id,c,r,n)}},o.a.createElement(Z.a,{fontSize:"small"}))))):null)})))))}var ne=a(31),re=a(29),ie=a.n(re),le=a(17),ce=a.n(le),se=a(39);function oe(){var e=Object(se.a)(["\n  query {\n    listEmployees {\n      items {\n        id\n        firstName\n        lastName\n      }\n    }\n    listAddresss {\n      items {\n        id\n        line1\n        line2\n        zipcode\n        state\n        city\n        empId\n      }\n    }\n    listSkills {\n      items {\n        id\n        name\n        empId\n      }\n    }\n  }\n"]);return oe=function(){return e},e}function me(){var e=Object(se.a)(["\n  query empById($id: ID!, $empId: String) {\n    getEmployee(id: $id) {\n      id\n      firstName\n      lastName\n    }\n    listAddresss(filter: { empId: { contains: $empId } }) {\n      items {\n        id\n        line1\n        line2\n        city\n        state\n        zipcode\n        empId\n      }\n    }\n    listSkills(filter: { empId: { contains: $empId } }) {\n      items {\n        id\n        name\n        empId\n      }\n    }\n  }\n"]);return me=function(){return e},e}function ue(){var e=Object(se.a)(["\n  query {\n    listEmployees {\n      items {\n        id\n        firstName\n        lastName\n      }\n    }\n  }\n"]);return ue=function(){return e},e}ie()(ue());var de=ie()(me()),pe=ie()(oe());function fe(){var e=Object(se.a)(["\nmutation createSkill($name: String!, $empId: String! ) {\n  createSkill(input: {name: $name, empId: $empId  }) {\n    id\n  }\n}\n"]);return fe=function(){return e},e}function be(){var e=Object(se.a)(["\nmutation createAddress($line1: String!, $line2: String!, $city: String!, $state: String!, $zipcode: String!, $empId: String! ) {\n  createAddress(input: {line1: $line1, line2: $line2, city: $city, state: $state, zipcode: $zipcode, empId: $empId  }) {\n    id\n  }\n}\n"]);return be=function(){return e},e}function Ee(){var e=Object(se.a)(["\n  mutation createEmployee($firstName: String!, $lastName: String!) {\n    createEmployee(input: { firstName: $firstName, lastName: $lastName }) {\n      id\n      firstName\n      lastName\n    }\n  }\n"]);return Ee=function(){return e},e}function ve(){var e=Object(se.a)(["\nmutation deleteAddress($id: ID!) {\n  deleteAddress(input: { id: $id }) {\n    id\n  }\n}"]);return ve=function(){return e},e}function he(){var e=Object(se.a)(["\nmutation deleteSkill($id: ID!) {\n  deleteSkill(input: { id: $id }) {\n    id\n  }\n}"]);return he=function(){return e},e}function ye(){var e=Object(se.a)(["\n  mutation deleteEmployee($id: ID!) {\n    deleteEmployee(input: { id: $id }) {\n      id\n    }\n  }\n"]);return ye=function(){return e},e}function ge(){var e=Object(se.a)(["\n  mutation updateEmployee($id: ID!, $firstName: String!, $lastName: String!) {\n    updateEmployee(\n      input: { id: $id, firstName: $firstName, lastName: $lastName }\n    ) {\n      firstName\n      lastName\n    }\n  }\n"]);return ge=function(){return e},e}function ke(){var e=Object(se.a)(["\nmutation updateSkill($id: ID!, $name: String!, $empId: String!) {\n  updateSkill(\n    input: { id: $id,  name: $name, empId: $empId }\n  ) {\n    id\n    name\n    empId\n  }\n}\n"]);return ke=function(){return e},e}function Oe(){var e=Object(se.a)(["\nmutation updateAddress($id: ID!, $line1: String!, $line2: String!, $state: String!, $city: String!, $zipcode: String!, $empId: String!) {\n  updateAddress(\n    input: { id: $id,  line1: $line1, line2: $line2, state: $state, city: $city, zipcode: $zipcode, empId: $empId }\n  ) {\n    id\n    line1\n    line2\n    state\n    city\n    zipcode\n    empId\n  }\n}\n"]);return Oe=function(){return e},e}var je=ie()(Oe()),xe=ie()(ke()),Ne=ie()(ge()),Ie=ie()(ye()),we=ie()(he()),Se=ie()(ve()),$e=ie()(Ee()),Ce=ie()(be()),qe=ie()(fe()),ze=function(e,t,a){var n=!0,r=!1,i=void 0;try{for(var l,c=function(){var n=Object(f.a)(l.value,2),r=n[0],i=n[1];e[r].addresss=[],e[r].skills=[],t.filter((function(t){t.empId!==i.id||e[r].addresss.push(t)})),a.filter((function(t){t.empId!==i.id||e[r].skills.push(t)})),e[r].trimAddress=Ae(e[r].addresss[0].line1,e[r].addresss.length-1),e[r].trimSkill=Ae(e[r].skills[0].name,e[r].skills.length-1)},s=e.entries()[Symbol.iterator]();!(n=(l=s.next()).done);n=!0)c()}catch(o){r=!0,i=o}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e},Ae=function(e,t){return t>0?"".concat(e.substring(0,10),"... + ").concat(t," more"):"".concat(e.substring(0,10)," ...")},De=function(e,t){var a=new Object(null),n=!0,r=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var s=l.value;"STRING"===s.type?e[s.key]&&"0"!==e[s.key]||(a[s.key]=s.key+" should not be empty"):"OBJECT"===s.type&&ce.a.isEmpty(e[s.key])&&(a[s.key]="Minimum one "+s.key+" required")}}catch(o){r=!0,i=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return a},Le=a(692),Re=a(696),Be=a(694),Te=a(695),Fe=a(693);function Ve(e){var t=e.isOpen,a=e.confirm,n=e.cancel,r=e.message,i=e.title,l=function(){n()};return o.a.createElement("div",null,o.a.createElement(Le.a,{open:t,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Fe.a,{id:"alert-dialog-title"},i),o.a.createElement(Be.a,null,o.a.createElement(Te.a,{id:"alert-dialog-description"},r)),o.a.createElement(Re.a,null,o.a.createElement(V.a,{onClick:l,color:"primary"},"Cancel"),o.a.createElement(V.a,{onClick:a,color:"primary",autoFocus:!0},"Confirm"))))}var Ge=a(697);function _e(){return o.a.createElement("div",{className:"spinner"},o.a.createElement(Ge.a,{disableShrink:!0}))}var Me=a(189),We=a.n(Me);var Ke=function(e){var t=e.searchReq,a=(e.searchValue,Object(L.f)()),r=Object(s.useState)({isOpen:!1,empId:"",index:-1,deleteData:{},previousSearchValue:""}),i=Object(f.a)(r,2),l=i[0],c=i[1],m=Object(ne.b)(pe),u=m.data,d=m.loading,p=(m.error,[]);u&&(p=ze(Object(F.a)(u.listEmployees.items),Object(F.a)(u.listAddresss.items),Object(F.a)(u.listSkills.items)));var b=Object(ne.a)(Ie),E=Object(f.a)(b,1)[0],v=Object(ne.a)(Se),h=Object(f.a)(v,1)[0],y=Object(ne.a)(we),g=Object(f.a)(y,1)[0];Object(s.useEffect)((function(){t(!1)}),[]);var k=function(){var e=Object(T.a)(B.a.mark((function e(t){var a,n,r,i,l,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,n=!1,r=void 0,e.prev=3,i=t[Symbol.iterator]();case 5:if(a=(l=i.next()).done){e.next=13;break}return c=l.value,e.next=9,g({variables:{id:c}});case 9:e.sent;case 10:a=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),n=!0,r=e.t0;case 19:e.prev=19,e.prev=20,a||null==i.return||i.return();case 22:if(e.prev=22,!n){e.next=25;break}throw r;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,null,[[3,15,19,27],[20,,22,26]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(T.a)(B.a.mark((function e(t){var a,n,r,i,l,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,n=!1,r=void 0,e.prev=3,i=t[Symbol.iterator]();case 5:if(a=(l=i.next()).done){e.next=13;break}return c=l.value,e.next=9,h({variables:{id:c}});case 9:e.sent;case 10:a=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),n=!0,r=e.t0;case 19:e.prev=19,e.prev=20,a||null==i.return||i.return();case 22:if(e.prev=22,!n){e.next=25;break}throw r;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,null,[[3,15,19,27],[20,,22,26]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(T.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.deleteData.skills.map((function(e){return e.id})),a=l.deleteData.addresss.map((function(e){return e.id})),e.next=4,O(a);case 4:return e.next=6,k(t);case 6:return e.next=8,E({variables:{id:l.empId},refetchQueries:[{query:pe}]});case 8:c({isOpen:!1,empId:"",index:-1,deleteData:{}});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,d&&o.a.createElement(_e,null),o.a.createElement("div",{className:"pl30 pr30 pt30"},d?"Data not found":o.a.createElement(ae,{bodyData:p,heading:[{label:"FirstName",key:"firstName"},{label:"LastName",key:"lastName"},{label:"Addresss",key:"trimAddress"},{label:"skills",key:"trimSkill"}],deleteMutate:E,edit:function(e){a.push("/form/".concat(e))},isAction:!0,del:function(e,t,a,r){l.isOpen=!0,l.deleteData=r,l.index=a,l.empId=e,c(Object(n.a)({},l))},routerLink:function(e){a.push("/employee/".concat(e))}})),o.a.createElement("div",{className:"addIconBtn",title:"Add new",onClick:function(){return function(e){e.push("/form/0")}(a)}},o.a.createElement("div",{className:"roundIcon"},o.a.createElement(We.a,{style:{color:"white"}}))),o.a.createElement(Ve,{title:"Conformation",message:"Do you want delete this employee ?",isOpen:l.isOpen,confirm:function(){j()},cancel:function(){c({isOpen:!1,empId:"",index:-1,deleteData:{}})}}))},Pe=a(708),He=a(698),Je=a(703),Qe=a(700),Ze=a(701),Ue=a(699),Xe=[{type:"STRING",key:"firstName"},{type:"STRING",key:"lastName"},{type:"OBJECT",key:"skills"},{type:"OBJECT",key:"addresss"}],Ye=[{type:"STRING",key:"line1"},{type:"STRING",key:"line2"},{type:"STRING",key:"zipcode"},{type:"STRING",key:"city"},{type:"STRING",key:"state"}],et=Object(E.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),tt=[{id:"1",name:"Chennai",stateId:"1"},{id:"2",name:"Trichy",stateId:"1"},{id:"3",name:"Karaikudi",stateId:"1"},{id:"4",name:"Visagapattinam",stateId:"2"},{id:"5",name:"Vijayavada",stateId:"2"}],at=[{id:"1",name:"TamilNadu"},{id:"2",name:"Andra Pradesh"}];var nt=function(e){var t=Object(s.useState)({form:{line1:"",line2:"",zipcode:"",city:"",state:""},cities:[],editIndex:-1}),a=Object(f.a)(t,2),r=a[0],i=a[1],l=e.addresss,c=e.ancestorSetState,m=e.collectDelId;l&&l.map((function(e){e.stateName=at.find((function(t){return t.id===e.state})).name,e.cityName=tt.find((function(t){return t.id===e.city})).name}));var u=et();return o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{className:u.root},o.a.createElement(Ue.a,{title:"Address"}),o.a.createElement(Qe.a,null,o.a.createElement("form",{className:u.root,noValidate:!0,autoComplete:"off"},o.a.createElement(Ze.a,{container:!0,spacing:3},o.a.createElement(Ze.a,{item:!0,xs:4},o.a.createElement(Pe.a,{required:!0,label:"Line1",style:{width:"95%"},onChange:function(e){return i(Object(n.a)({},r,{form:Object(n.a)({},r.form,{line1:e.target.value})}))},value:r.form.line1,variant:"filled"})),o.a.createElement(Ze.a,{item:!0,xs:4},o.a.createElement(Pe.a,{required:!0,label:"Line2",style:{width:"95%"},onChange:function(e){return i(Object(n.a)({},r,{form:Object(n.a)({},r.form,{line2:e.target.value})}))},value:r.form.line2,variant:"filled"})),o.a.createElement(Ze.a,{item:!0,xs:4},o.a.createElement(Pe.a,{id:"filled-select-currency-native",select:!0,label:"State",value:r.form.state,onChange:function(e){return function(e,t,a){a.cities=tt.filter((function(t){return t.stateId===e})),a.form.state=e,t(Object(n.a)({},a))}(e.target.value,i,r)},helperText:"",variant:"filled"},at.map((function(e){return o.a.createElement("option",{value:e.id,key:e.id},e.name)}))))),o.a.createElement(Ze.a,{container:!0,spacing:2},o.a.createElement(Ze.a,{item:!0,xs:6},o.a.createElement(Pe.a,{id:"filled-select-currency-native",select:!0,label:"City",value:r.form.city,onChange:function(e){return i(Object(n.a)({},r,{form:Object(n.a)({},r.form,{city:e.target.value})}))},helperText:"",variant:"filled"},r.cities.map((function(e){return o.a.createElement("option",{value:e.id,key:e.id},e.name)})))),o.a.createElement(Ze.a,{item:!0,xs:6},o.a.createElement(Pe.a,{required:!0,label:"Zipcode",style:{width:"100%"},value:r.form.zipcode,onChange:function(e){return t=e.target.value,void(isNaN(t)||t.length<7&&i(Object(n.a)({},r,{form:Object(n.a)({},r.form,{zipcode:t})})));var t},variant:"filled",helperText:"Its number field and don't exsist six digit"}))))),o.a.createElement(Je.a,{className:"right",style:{marginRight:"22px"}},o.a.createElement(V.a,{variant:"contained",color:"primary",onClick:function(){return function(e,t,a,r){le.isEmpty(De(t.form,Ye))&&(t.form.cityName=tt.find((function(e){return e.id===t.form.city})).name,t.form.stateName=at.find((function(e){return e.id===t.form.state})).name,t.editIndex<0?a.push(Object(n.a)({},t.form)):a[t.editIndex]=Object(n.a)({},t.form),r(a),e({cities:[],editIndex:-1,form:{line1:"",line2:"",zipcode:"",city:"",state:""}}))}(i,r,l,c)}},"Add")),o.a.createElement(Qe.a,null,l&&!le.isEmpty(l)&&o.a.createElement(ae,{bodyData:l,heading:[{label:"Line 1",key:"line1"},{label:"Line2",key:"line2"},{label:"City",key:"cityName"},{label:"State",key:"stateName"},{label:"Zipcode",key:"zipcode"}],edit:function(e,t){r.cities=tt.filter((function(e){return e.stateId===l[t].state})),r.form=l[t],r.editIndex=t,i(Object(n.a)({},r))},isAction:!0,del:function(e,t,a){e&&m(e),l.splice(a,1)}}))))},rt=a(190),it=a.n(rt);function lt(e){return o.a.createElement(it.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},o.a.createElement(J.a,e))}function ct(e){var t=o.a.useState(!1),a=Object(f.a)(t,2),n=(a[0],a[1],e.isOpen),r=e.errors,i=e.close,l=function(){i()};return o.a.createElement("div",null,o.a.createElement(Le.a,{open:n,onClose:l,PaperComponent:lt,"aria-labelledby":"draggable-dialog-title"},o.a.createElement(Fe.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Error..!"),o.a.createElement(Be.a,null,o.a.createElement(Te.a,null,Object.keys(r).map((function(e,t){return o.a.createElement("div",{key:t},t+1+". "+r[e])})))),o.a.createElement(Re.a,null,o.a.createElement(V.a,{autoFocus:!0,onClick:l,color:"primary"},"Ok"))))}var st=a(102),ot=a.n(st),mt=a(711);var ut=function(e){var t=Object(s.useState)(""),a=Object(f.a)(t,2),n=a[0],r=a[1],i=e.fieldKey,l=e.ancestorStateChange,c=e.state,m=e.chips;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(Pe.a,{required:!0,label:"Skills",onChange:function(e){return r(e.target.value)},onKeyDown:function(e){return function(e,t,a,n,r){if(13==t.keyCode&&""!==t.target.value){var i=Object(F.a)(n.form.skills);i.push({name:t.target.value}),r(""),a(e,i,void 0)}}(i,e,l,c,r)},value:n,variant:"filled"}),o.a.createElement("div",null,m.map((function(e,t){return o.a.createElement(mt.a,{key:t,label:e.name,onDelete:function(e){return function(e,t,a,n){var r=t[a].id;t.splice(a,1),n(e,Object(F.a)(t),r)}(e,Object(F.a)(m),t,l)}})})))))},dt=Object(E.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"100%"}},minWidth:275,title:{fontSize:14},pos:{marginBottom:12}}})),pt=function(){var e=Object(T.a)(B.a.mark((function e(t,a,n){var r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{firstName:t,lastName:a}});case 2:return r=e.sent,i=r.data,e.abrupt("return",i.createEmployee.id);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ft=function(){var e=Object(T.a)(B.a.mark((function e(t,a){var n,r,i,l,c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,i=void 0,e.prev=3,l=t[Symbol.iterator]();case 5:if(n=(c=l.next()).done){e.next=13;break}return s=c.value,e.next=9,a({variables:{line1:s.line1,line2:s.line2,city:s.city,state:s.state,zipcode:s.zipcode,empId:s.empId}});case 9:e.sent;case 10:n=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),r=!0,i=e.t0;case 19:e.prev=19,e.prev=20,n||null==l.return||l.return();case 22:if(e.prev=22,!r){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,null,[[3,15,19,27],[20,,22,26]])})));return function(t,a){return e.apply(this,arguments)}}(),bt=function(){var e=Object(T.a)(B.a.mark((function e(t,a){var n,r,i,l,c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,i=void 0,e.prev=3,l=t[Symbol.iterator]();case 5:if(n=(c=l.next()).done){e.next=13;break}return s=c.value,e.next=9,a({variables:{name:s.name,empId:s.empId},refetchQueries:[{query:pe}]});case 9:e.sent;case 10:n=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),r=!0,i=e.t0;case 19:e.prev=19,e.prev=20,n||null==l.return||l.return();case 22:if(e.prev=22,!r){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,null,[[3,15,19,27],[20,,22,26]])})));return function(t,a){return e.apply(this,arguments)}}(),Et=function(){var e=Object(T.a)(B.a.mark((function e(t,a,r,i){var l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce.a.isEmpty(De(t.form,Xe))){e.next=6;break}return e.next=3,pt(t.form.firstName,t.form.lastName,a);case 3:r.push("/home"),e.next=8;break;case 6:l=De(t.form,Xe),i(Object(n.a)({},t,{errors:l,isErrorModal:!0}));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),vt=function(e,t,a,r){a(Object(n.a)({},r,{form:Object(n.a)({},r.form,Object(p.a)({},e,t))}))};var ht=function(e){var t=e.searchReq,a=Object(L.f)(),r=Object(s.useState)({skill:"",isErrorModal:!1,errors:{},delAddressIds:[],delSkillIds:[],form:{firstName:"",lastName:"",address:[],skills:[]}}),i=Object(f.a)(r,2),l=i[0],c=i[1],m=Object(ne.b)(de,{variables:{id:e.match.params.empId,empId:e.match.params.empId}}),u=m.data,d=m.loading,b=Object(ne.a)($e,{onCompleted:function(e){return function(e,t,a,n){e.createEmployee.id&&(n.addresss.map((function(t){t.empId=e.createEmployee.id})),n.skills.map((function(t){t.empId=e.createEmployee.id})),ft(n.addresss,t),bt(n.skills,a))}(e,y,k,l.form)}}),E=Object(f.a)(b,2),v=E[0],h=(E[1].error,Object(ne.a)(Ce)),y=Object(f.a)(h,1)[0],g=Object(ne.a)(qe),k=Object(f.a)(g,1)[0],O=Object(ne.a)(Ne),j=Object(f.a)(O,1)[0],x=Object(ne.a)(je),N=Object(f.a)(x,1)[0],I=Object(ne.a)(xe),w=Object(f.a)(I,1)[0],S=Object(ne.a)(Se),$=Object(f.a)(S,1)[0],C=Object(ne.a)(we),q=Object(f.a)(C,1)[0],z=dt();Object(s.useEffect)((function(){u&&u.getEmployee&&c(Object(n.a)({},l,{form:ze([Object(n.a)({},u.getEmployee)],Object(F.a)(u.listAddresss.items),Object(F.a)(u.listSkills.items))[0]})),t(!1)}),[u]);var A=function(){var t=Object(T.a)(B.a.mark((function t(){var n,r,i,c,s,o,m,u,d,p,f,b,E,v,h,g,O,x,I,S,C,z,A,D;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ce.a.isEmpty(De(l.form,Xe))){t.next=124;break}if(!e.match.params.empId||"0"===e.match.params.empId){t.next=124;break}if(ce.a.isEmpty(l.delSkillIds)){t.next=30;break}n=!0,r=!1,i=void 0,t.prev=6,c=l.delSkillIds[Symbol.iterator]();case 8:if(n=(s=c.next()).done){t.next=16;break}return o=s.value,t.next=12,q({variables:{id:o}});case 12:t.sent;case 13:n=!0,t.next=8;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),r=!0,i=t.t0;case 22:t.prev=22,t.prev=23,n||null==c.return||c.return();case 25:if(t.prev=25,!r){t.next=28;break}throw i;case 28:return t.finish(25);case 29:return t.finish(22);case 30:if(ce.a.isEmpty(l.delAddressIds)){t.next=58;break}m=!0,u=!1,d=void 0,t.prev=34,p=l.delAddressIds[Symbol.iterator]();case 36:if(m=(f=p.next()).done){t.next=44;break}return b=f.value,t.next=40,$({variables:{id:b}});case 40:t.sent;case 41:m=!0,t.next=36;break;case 44:t.next=50;break;case 46:t.prev=46,t.t1=t.catch(34),u=!0,d=t.t1;case 50:t.prev=50,t.prev=51,m||null==p.return||p.return();case 53:if(t.prev=53,!u){t.next=56;break}throw d;case 56:return t.finish(53);case 57:return t.finish(50);case 58:E=!0,v=!1,h=void 0,t.prev=61,g=l.form.addresss[Symbol.iterator]();case 63:if(E=(O=g.next()).done){t.next=76;break}if(!(x=O.value).id){t.next=71;break}return console.log(x),t.next=69,N({variables:{id:x.id,line1:x.line1,line2:x.line2,state:x.state,city:x.city,zipcode:x.zipcode,empId:e.match.params.empId}});case 69:t.next=73;break;case 71:return t.next=73,y({variables:{line1:x.line1,line2:x.line2,city:x.city,state:x.state,zipcode:x.zipcode,empId:e.match.params.empId}});case 73:E=!0,t.next=63;break;case 76:t.next=82;break;case 78:t.prev=78,t.t2=t.catch(61),v=!0,h=t.t2;case 82:t.prev=82,t.prev=83,E||null==g.return||g.return();case 85:if(t.prev=85,!v){t.next=88;break}throw h;case 88:return t.finish(85);case 89:return t.finish(82);case 90:I=!0,S=!1,C=void 0,t.prev=93,z=l.form.skills[Symbol.iterator]();case 95:if(I=(A=z.next()).done){t.next=107;break}if(!(D=A.value).id){t.next=102;break}return t.next=100,w({variables:{id:D.id,name:D.name,empId:e.match.params.empId}});case 100:t.next=104;break;case 102:return t.next=104,k({variables:{name:D.name,empId:e.match.params.empId}});case 104:I=!0,t.next=95;break;case 107:t.next=113;break;case 109:t.prev=109,t.t3=t.catch(93),S=!0,C=t.t3;case 113:t.prev=113,t.prev=114,I||null==z.return||z.return();case 116:if(t.prev=116,!S){t.next=119;break}throw C;case 119:return t.finish(116);case 120:return t.finish(113);case 121:return t.next=123,j({variables:{id:e.match.params.empId,firstName:l.form.firstName,lastName:l.form.lastName},refetchQueries:[{query:pe}]});case 123:a.push("/home");case 124:case"end":return t.stop()}}),t,null,[[6,18,22,30],[23,,25,29],[34,46,50,58],[51,,53,57],[61,78,82,90],[83,,85,89],[93,109,113,121],[114,,116,120]])})));return function(){return t.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,d&&o.a.createElement(_e,null),o.a.createElement("div",{className:"ml9rem mr9rem mt40"},o.a.createElement(He.a,{className:z.root},o.a.createElement(Qe.a,null,o.a.createElement("form",{className:z.root,noValidate:!0,autoComplete:"off"},o.a.createElement("div",null,o.a.createElement(Ze.a,{container:!0,spacing:3},o.a.createElement(Ze.a,{item:!0,xs:4},o.a.createElement(Pe.a,{required:!0,id:"standard-required",label:"FirstName",onChange:function(e){return vt("firstName",e.target.value,c,l)},value:l.form.firstName,variant:"filled"})),o.a.createElement(Ze.a,{item:!0,xs:4},o.a.createElement(Pe.a,{required:!0,id:"standard-required",label:"LastName",onChange:function(e){return vt("lastName",e.target.value,c,l)},value:l.form.lastName,variant:"filled"})),o.a.createElement(Ze.a,{item:!0,xs:4},o.a.createElement(ut,{fieldKey:"skills",ancestorStateChange:function(e,t,a){a?(l.delSkillIds.push(a),l.form.skills=t,c(Object(n.a)({},l))):c(Object(n.a)({},l,{form:Object(n.a)({},l.form,Object(p.a)({},e,t))}))},state:l,chips:l.form.skills})))),o.a.createElement("div",{className:"mt30"},o.a.createElement(nt,{ancestorSetState:function(e){c(Object(n.a)({},l,{form:Object(n.a)({},l.form,{addresss:e})}))},addresss:l.form.addresss?l.form.addresss:[],collectDelId:function(e){l.delAddressIds.push(e),c(Object(n.a)({},l,{delAddressIds:l.delAddressIds}))}})))),o.a.createElement(Je.a,{className:"right"},"0"!==e.match.params.empId&&e.match.params.empId?o.a.createElement(V.a,{variant:"contained",color:"primary",onClick:function(){return A()}},"Update"):o.a.createElement(V.a,{variant:"contained",color:"primary",onClick:function(){return Et(l,v,a,c)}},"Save")))),o.a.createElement(ct,{isOpen:l.isErrorModal,errors:l.errors,close:function(){c(Object(n.a)({},l,{errors:{},isErrorModal:!1}))}}),o.a.createElement("div",{className:"addIconBtn",title:"Add new",onClick:function(){a.push("/")}},o.a.createElement("div",{className:"roundIcon"},o.a.createElement(ot.a,{style:{color:"white"}}))))},yt=Object(E.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"100%"}},minWidth:275,title:{fontSize:14},pos:{marginBottom:12}}}));var gt=function(e){var t=e.searchReq,a=Object(L.f)(),n=Object(ne.b)(de,{variables:{id:e.match.params.empId,empId:e.match.params.empId}}),r=n.data,i=n.loading,l=yt();return Object(s.useEffect)((function(){t(!1)}),[]),o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(_e,null),r&&r.getEmployee&&o.a.createElement("div",{className:"ml9rem mr9rem mt40"},o.a.createElement(He.a,{className:l.root},o.a.createElement(Ue.a,{title:"Employee Details"},o.a.createElement("span",{className:"right"},"edit")),o.a.createElement(Qe.a,null,o.a.createElement("table",{className:"mb20"},o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"First Name"),o.a.createElement("td",null,":"),o.a.createElement("td",null,r.getEmployee.firstName)),o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"Last Name"),o.a.createElement("td",null,":"),o.a.createElement("td",null,r.getEmployee.lastName)),o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"Skills"),o.a.createElement("td",null,":"),o.a.createElement("td",null,r.listSkills.items.map((function(e,t){return t===r.listSkills.items.length-1?e.name:e.name+", "}))))),o.a.createElement(He.a,{className:l.root},o.a.createElement(Ue.a,{title:"Addresss"},o.a.createElement("span",{className:"right"},"edit")),o.a.createElement(Qe.a,null,r.listAddresss.items.map((function(e,t){return o.a.createElement("div",{key:t,className:"mb20"},o.a.createElement("table",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"Line 1"),o.a.createElement("td",null,":"),o.a.createElement("td",null,e.line1)),o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"Line 2"),o.a.createElement("td",null,":"),o.a.createElement("td",null,e.line2)),o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"City"),o.a.createElement("td",null,":"),o.a.createElement("td",null,tt.find((function(t){return t.id===e.city})).name)),o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"State"),o.a.createElement("td",null,":"),o.a.createElement("td",null,at.find((function(t){return t.id===e.state})).name)),o.a.createElement("tr",null,o.a.createElement("td",{className:"leftLabel"},"Zipcode"),o.a.createElement("td",null,":"),o.a.createElement("td",null,e.zipcode))))}))))),o.a.createElement(Je.a,null))),o.a.createElement("div",{className:"addIconBtn",title:"Add new",onClick:function(){a.push("/")}},o.a.createElement("div",{className:"roundIcon"},o.a.createElement(ot.a,{style:{color:"white"}}))))},kt=a(194),Ot=a.n(kt),jt=a(195),xt=a.n(jt),Nt=a(710),It=a(191),wt=a.n(It),St=Object(E.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function $t(e){var t=St(),a=e.searchHandler;return o.a.createElement(J.a,{className:t.root},o.a.createElement(Nt.a,{className:t.input,placeholder:"Search firstname, lastname, skills",inputProps:{"aria-label":"search google maps"},onChange:function(e){return function(e){a(e.target.value)}(e)},onKeyDown:function(e){return function(e){13===e.keyCode&&console.log(e.keyCode)}(e)}}),o.a.createElement(x.a,{type:"submit",className:t.iconButton,"aria-label":"search"},o.a.createElement(wt.a,null)))}var Ct=Object(E.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(n.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function qt(e){var t=Ct(),a=Object(v.a)(),r=[],i=Object(ne.b)(pe),l=i.data;i.loading,i.error;l&&(r=l.listEmployees.items);var c=o.a.useState({isDrawer:!1,searchValue:"",isSearchReq:!1}),s=Object(f.a)(c,2),m=s[0],u=s[1],d=function(e){u(Object(n.a)({},m,{isSearchReq:e}))};return o.a.createElement(D.a,null,o.a.createElement(L.c,null,o.a.createElement("div",{className:t.root},o.a.createElement(y.a,null),o.a.createElement(g.a,{position:"fixed",className:Object(b.a)(t.appBar,Object(p.a)({},t.appBarShift,m.isDrawer))},o.a.createElement("div",{className:"relative"},o.a.createElement(k.a,null,o.a.createElement(x.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(Object(n.a)({},m,{isDrawer:!0}))},edge:"start",className:Object(b.a)(t.menuButton,m.isDrawer&&t.hide)},o.a.createElement(I.a,null)),o.a.createElement(j.a,{variant:"h6",noWrap:!0},"Employee")),m.isSearchReq&&o.a.createElement("div",{className:"searchField"},o.a.createElement($t,{searchHandler:function(e){u(Object(n.a)({},m,{searchValue:e}))},searchValue:m.searchValue})))),o.a.createElement(h.a,{className:t.drawer,variant:"persistent",anchor:"left",open:m.isDrawer,classes:{paper:t.drawerPaper}},o.a.createElement("div",{className:t.drawerHeader},o.a.createElement(x.a,{onClick:function(){u(Object(n.a)({},m,{isDrawer:!1}))}},"ltr"===a.direction?o.a.createElement(S.a,null):o.a.createElement(C.a,null))),o.a.createElement(O.a,null,r.map((function(e,t){return o.a.createElement(D.b,{to:"/employee/".concat(e.id)},o.a.createElement(q.a,{button:!0,key:e.firstName+e.lastName},o.a.createElement(z.a,null,t%2===0?o.a.createElement(Ot.a,null):o.a.createElement(xt.a,null)),o.a.createElement(A.a,{primary:e.firstName+" "+e.lastName})))})))),o.a.createElement("main",{className:Object(b.a)(t.content,Object(p.a)({},t.contentShift,m.isDrawer))},o.a.createElement("div",{className:t.drawerHeader}),o.a.createElement(L.a,{path:"/form/:empId",render:function(e){return o.a.createElement(ht,Object.assign({},e,{searchReq:d}))}}),o.a.createElement(L.a,{path:"/employee/:empId",render:function(e){return o.a.createElement(gt,Object.assign({},e,{searchReq:d}))}}),o.a.createElement(L.a,{exact:!0,path:"/"},o.a.createElement(Ke,{client:e.client,searchReq:d,searchValue:m.searchValue}))))))}var zt=function(e){return o.a.createElement(qt,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var At={aws_project_region:"us-west-2",aws_appsync_graphqlEndpoint:"https://3kqa2bt5qzg6rkbbgsuorywybq.appsync-api.us-west-2.amazonaws.com/graphql",aws_appsync_region:"us-west-2",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-swaqwisp65e3nhnyu2swagorde"},Dt=a(33),Lt=new i.a,Rt=new l.a({uri:"https://3kqa2bt5qzg6rkbbgsuorywybq.appsync-api.us-west-2.amazonaws.com/graphql",headers:{"X-Api-Key":"da2-swaqwisp65e3nhnyu2swagorde"}}),Bt=Object(c.a)((function(e,t){var a=t.headers;return{headers:Object(n.a)({},a,{authorization:"Bearer da2-swaqwisp65e3nhnyu2swagorde"})}})),Tt=new r.a({cache:Lt,link:Bt.concat(Rt)});d.a.configure(At),u.a.render(o.a.createElement(Dt.a,{client:Tt},o.a.createElement(zt,{client:Tt})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[221,1,2]]]);
//# sourceMappingURL=main.3187c64f.chunk.js.map